
---

# 上海海洋大学羽毛球场自动预约项目（README由AI生成）

## 项目概述

该项目用于自动预约特定场馆的羽毛球场。项目通过处理登录认证、场地选择、OCR验证码识别，以及最终的预约提交，实现自动化的羽毛球场地预订。项目可以持续监测预约开放状态，并在预约开始时自动提交预订请求。

## 功能特性

- **自动登录**：自动登录预约系统，支持多因素认证（MFA）。
- **房间预约**：优先尝试预约指定房间和时间段，若预约失败，则尝试其他房间。
- **定时任务**：配置并每天在指定时间运行预约任务。。
- **验证码识别**：通过 OCR自动识别验证码。
- **日志记录**：提供详细的日志记录，便于追踪预约过程。

## 环境要求

- Python 3.7+
- `requests` - 用于处理 HTTP 请求
- `ddddocr` - 用于验证码识别
- `python-dotenv` - 用于管理环境变量
- `logging` - 用于日志管理

## 安装步骤

1. **克隆项目代码：**

   ```bash
   git clone https://github.com/CodeVoyagerWgy/BC-SHOU.git
   cd BC-SHOU
   ```

2. **安装依赖库：**

   ```bash
   pip install -r requirements.txt
   ```

3. **创建 `.env` 文件并填写以下内容(TOKEN不用填，可以自动登录生成)：**

   ```bash
   USERNAME=your_username                #（学号-必填）
   PASSWORD=your_password                # (密码-必填)
   TOKEN=optional_token_if_available     #（不用填）
   ROOM=羽毛球场5                         #（预约场地-必填）
   START_TIME=18:00                      #（球场开始时间-必填）
   END_TIME=19:00                        #（球场结束时间-必填）
   APPLY_DATE=2024-10-16                 #（申请的日期-必填）
   PHONE=your_phone_number               #（手机号-必填）
   ```

4. **运行项目：**

   ```bash
   python main.py
   ```

## 使用说明

- 该项目将持续检查是否可以预约，一旦预约窗口开启，系统会自动进行预约。
- 系统使用 OCR 技术自动识别验证码。

## 日志记录

- 每个步骤都会生成日志，包括登录、场地选择、验证码识别和预约提交。
- 日志文件存放在 `logs/` 目录下，有助于调试和查看预约尝试的记录。

## 自定义设置

- 您可以在 `room_data.py` 文件中修改场地信息，选择您想要预约的羽毛球场。
- 在 `.env` 文件中可调整预约的时间和日期以适应您的需求。

## 文件结构
- login.py：处理登录和MFA验证。
- query_start.py：检查指定日期的预约是否开始。
- reservation.py：执行预约流程。
- config.py：包含房间配置数据。
- logger.py：设置系统的日志记录。
- .env：存储环境变量。

## 已知问题

- 对于复杂验证码，OCR 可能会失败，但系统设计了自动重试机制。
- 请确保环境变量（如用户名、密码）正确无误，以避免登录失败。

## 贡献
如果你想参与贡献，请 fork 本仓库并使用 feature 分支提交代码。欢迎提交 Pull Request！

## 联系方式
本代码有任何问题，欢迎联系我：wgy_sdrz@163.com